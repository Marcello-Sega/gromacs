What is this?
=============
This a version of the GROMACS molecular dynamics simulation package that allows you to save the local pressure contribution from each particle in the system. Please refer to the original GROMACS README file (also included here) about the license.

Most widely used potential terms (but not all!) are supported: Lennard-Jones, Coulomb (including PME!), harmonic bonds & angles, dihedral angles, constraints (SHAKE, LINCS).

Please refer to 

      Sega, Marcello, Bal치zs F치bi치n, and P치l Jedlovszky. 
      "Pressure Profile Calculation with Mesh Ewald Methods." 
      Journal of Chemical Theory and Computation 12.9 (2016): 4509-4515.
     
DOI: [10.1021/acs.jctc.6b00576](http://dx.doi.org/10.1021/acs.jctc.6b00576)


Caveats 
=======

* SIMD kernels are not supported, and one can only run single core,
single thread. To this end, invoke ```mdrun```, e.g., like this: 

      export GMX_DISABLE_SIMD_KERNELS=1 ;  $GMXDIR/bin/gmx mdrun -ntmpi 1 -ntomp 1

* Since the Verlet lists are not supported, one must use, in the .mdp configuration file,  

      cutoff-scheme  = group
      
* Switched/Shifted versions of Lennard-Jones and Coulomb interactions ***are not implemented***
      
* One cannot use .tpr generated by other (non virial-enabled) versions, as the binary
topology format is different (it includes the values of pressure per
particle). A new .tpr must be generated, using grompp from the
virial-enabled version.

* SETTLE and virtual sites are not supported, as well as the
Buckingham potential. Shake is ok, and LINCS should also be fine. So,
you should be careful if you have water in your system, to disable the
settle section in the topology, and introduce the appropriate (rigid) bonds.

* The pressure per particle is added to the .trr files only, the .xtc
are unchanged.

* The downside of having a trajectory with pressure per particle
included is that other analysis tools will most likely fail, unless
you patch them. For structural properties, it's better to save also
the .xtc alongside the .trr, and feed it to the usual analysis tools

* Note that ```gmx dump``` prints out also the values of pressure per particle,
you can use it to quickly test if everything went fine.

* To analyze the pressure profile the best thing is to use ITIM https://github.com/Marcello-Sega/gitim/tree/ITIM

* Doing a rerun seems to be possible 
